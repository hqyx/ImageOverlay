一、软件简介
本软件用于在桌面上叠加显示一张图片，方便对照、临摹、比对设计稿等场景。窗口本身可以半透明悬浮在最前面，并支持旋转、透明度调节、缩放查看和拖拽移动等功能。

二、安装与启动
1. 安装运行环境
   - 本软件基于 Python 和 PyQt 开发，您使用打包好的可执行文件时，无需单独安装 Python。
   - 直接双击运行打包好的程序即可打开软件。

2. 启动软件
   - 方式一：双击程序图标，打开软件主窗口。
   - 方式二：在图片文件上右键，如果已添加右键菜单，可选择“Open with Image Overlay”来用本软件直接打开图片。

三、界面说明
打开软件后，窗口分为三部分：
1. 顶部标题栏
   - 左侧有菜单按钮“☰”。
   - 中间是当前打开图片的文件名（未打开时显示“Image Overlay”）。
   - 右侧有最小化按钮“-”和关闭按钮“×”。

2. 中间图片区域
   - 用于显示当前打开的图片。
   - 支持拖拽图片文件到此区域直接打开。

3. 底部控制栏
   - 左侧两个按钮：
     - “↺”：向左旋转图片 90 度。
     - “↻”：向右旋转图片 90 度。
   - 中间“Opacity:”滑块：控制图片透明度。
   - 右侧“Zoom:”滑块：控制图片缩放比例。

四、基本操作
1. 打开图片
   - 方法一：把图片文件从资源管理器中拖拽到中间的图片区域，松开鼠标即可打开。
   - 方法二：点击左上角“☰”菜单按钮，选择“Open Image...”，在弹出的文件选择窗口中选中图片并确认。
   - 方法三：在图片文件上右键（已注册右键菜单的情况下），选择“Open with Image Overlay”。

2. 调整窗口位置
   - 在标题栏空白区域按住鼠标左键拖动，可以移动整个窗口。
   - 在窗口边缘按住鼠标左键拖动，可以改变窗口大小，图片会根据窗口大小自动适配。

3. 调整图片透明度
   - 在底部控制栏找到“Opacity:”滑块。
   - 向左拖动：图片更透明，更容易看到后面的内容。
   - 向右拖动：图片更不透明，看得更清晰。

4. 旋转图片
   - 点击“↺”按钮：图片逆时针旋转 90 度。
   - 点击“↻”按钮：图片顺时针旋转 90 度。
   - 每点击一次旋转 90 度，可多次点击进行多次旋转。

五、新增功能一：新窗口跟随上一个窗口位置
1. 功能说明
   - 当您关闭软件、或者在已有窗口基础上再次打开一个新的软件窗口时，新窗口会自动出现在上一个窗口所在的位置附近，而不是随机位置或屏幕中间。
   - 这样可以保持多个图片对照时的习惯位置，使用更加顺手。

2. 使用方法
   - 将当前窗口移动到合适的位置后正常使用。
   - 当您关闭窗口或拖动窗口后，软件会记住当前位置。
   - 下次再次打开软件（或在另一张图片上通过软件打开），新窗口会自动出现在您上一次使用时的那个位置附近。

六、新增功能二：两个窗口自动吸附重合
1. 功能说明
   - 可以同时打开两个本软件的窗口。
   - 当把一个窗口拖动到另一个窗口上面时，如果两个窗口重叠区域比较多，被拖动的窗口会自动对齐到另一个窗口的位置和大小，使四个角完全重合，就像“吸附”在一起一样。
   - 之后可以再次拖动其中任意一个窗口，把它们分开。

2. 使用方法
   1）同时打开两个窗口
      - 可以多次运行程序，或在不同图片上右键选择用本软件打开，即可得到两个独立窗口。
   2）让两个窗口吸附重合
      - 用鼠标左键按住其中一个窗口的标题栏，拖拽到另一个窗口上方。
      - 当两个窗口有较大的重叠区域后，松开鼠标左键。
      - 此时，被拖动的窗口会自动移动并调整为和目标窗口完全同样的位置和大小，四个角对齐重合。
   3）分开已经重合的窗口
      - 再次用鼠标左键按住其中一个窗口的标题栏。
      - 向任意方向拖动一段距离后松开鼠标，即可把原来重合的两个窗口分开，变成两个独立窗口。

七、新增功能三：缩放和拖拽查看图片
1. 缩放图片（Zoom 滑块）
   - 在底部控制栏找到“Zoom:”滑块。
   - 滑块默认值为 100%，表示刚好适配窗口大小。
   - 向右拖动（大于 100%）：图片会放大，细节看得更清楚。
   - 向左拖动（小于 100%）：图片会缩小，可以看到更大范围的内容。
   - 缩放只改变图片在窗口内部的显示大小，不会改变窗口本身的尺寸。

2. 拖拽查看放大后的图片
   - 当图片被放大后，可能会超出窗口边缘，只能看到其中一部分。
   - 这时可以按住鼠标中键或者鼠标右键，在图片区域内拖动来查看不同位置。
   - 具体操作：
     1）将鼠标移动到图片区域。
     2）按住鼠标中键或者鼠标右键不放。
     3）拖动鼠标，图片会跟随移动，类似在手机上用手指拖动画面一样。
     4）松开鼠标中键或右键，图片停留在当前显示位置。

八、右键菜单（仅 Windows）
1. 添加到右键菜单
   - 在软件左上角点击“☰”菜单按钮。
   - 选择“Add to Right-Click Menu”。
   - 如果系统提示需要管理员权限，请允许。
   - 成功后，在资源管理器中右键点击图片文件，即可看到“Open with Image Overlay”选项。

2. 使用右键菜单打开图片
   - 在资源管理器中找到要查看的图片。
   - 右键点击图片，选择“Open with Image Overlay”。
   - 软件会自动启动并打开该图片。

九、窗口置顶与透明效果
1. 窗口总在最前
   - 软件窗口会保持在其他普通窗口前面，方便对照参考。

2. 透明背景
   - 打开图片后，窗口边框仍然存在，图片区域背景接近全透明，可以透过看到下面的内容。
   - 配合“Opacity:”滑块可以方便地进行对照和临摹。

十、常见问题
1. 打不开图片
   - 请确认文件是常见图片格式（如 .png、.jpg、.jpeg、.bmp、.gif）。
   - 确认文件路径中不存在异常字符或文件已被删除。

2. 缩放后图片看不见
   - 可能是缩放太小或被拖拽到窗口外面。
   - 解决方法：
     - 将“Zoom:”滑块调整回 100% 左右。
     - 在图片区域按住鼠标中键或右键拖动，尝试重新找到图片位置。
     - 或者重新打开图片。

3. 两个窗口拖到一起没有自动吸附
   - 请确保您拖动的是标题栏，并且两个窗口确实有较大的重叠区域。
   - 只在 Windows 系统下支持自动吸附功能，macOS 下暂不支持。

十一、Mac 打包与下载说明（概览）
1. 代码中已经包含 macOS 打包配置文件和自动打包脚本（GitHub Actions 工作流）。
2. 当您将项目代码推送到自己的 Git 仓库，并启用 GitHub Actions 后：
   - Windows 和 macOS 的打包流程会在云端自动执行。
   - 打包完成后，可在 GitHub 仓库页面的“Actions”模块中找到对应工作流运行记录，在其中的“Artifacts”区域下载：
     - Windows 版本：`ImageOverlay-Windows`（包含 `ImageOverlay.exe`）。
     - macOS 版本：`ImageOverlay-macOS`（压缩包 `ImageOverlay_macOS.zip`，解压后为 `ImageOverlay.app`）。

3. 由于需要您的 GitHub 账号权限，本说明无法直接替您上传或生成下载链接，但您只需：
   - 创建自己的 Git 仓库；
   - 将当前工程推送到 GitHub；
   - 确认 `.github/workflows` 目录中的打包脚本已存在并启用；
   - 每次推送到主分支后，即可在 GitHub Actions 中下载最新打包好的安装文件。

十二、建议使用流程总结
1. 启动软件或通过右键菜单打开图片。
2. 拖动窗口到合适位置，调整透明度和缩放。
3. 如需多个对照窗口，可以多开几个实例，必要时让它们自动吸附重合或分开。
4. 使用中键或右键拖拽查看放大细节。
5. 使用完成后关闭窗口，下次打开时会自动记住上一次的位置，继续使用。

如果在使用过程中遇到问题，建议先根据本说明逐条对照操作步骤，一般都可以自行解决。祝您使用愉快！

